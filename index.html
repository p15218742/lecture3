<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>CTEC3905 Lecture 03: JavaScript, introduction, usage, background</title>

	<meta name="description" content="JavaScript: introduction, usage, background">
	<meta name="author" content="Dave Everitt">

	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<link rel="stylesheet" href="https://opensource.keycdn.com/fontawesome/4.7.0/font-awesome.min.css" integrity="sha384-dNpIIXE8U05kAbPhy3G1cz+yZmTzA6CY8Vg/u2L9xRnHjJiAK76m2BIEaSEV+/aU" crossorigin="anonymous">
	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/moon.css"><!--beige-->
	<link rel="stylesheet" href="lib/css/zenburn.css"><!-- syntax highlighting of code -->
	<link rel="stylesheet" href="css/deveritt-reveal.css"><!-- custom styles -->
	<link rel="stylesheet" href="css/websockets.css"><!-- websockets demo -->

	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement( 'link' );
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
		document.getElementsByTagName( 'head' )[0].appendChild( link );
	</script>

</head>
<body>
	<div class="reveal">
		<div class="slides">

			<section data-markdown>
				## CTEC3905: Front-End Web Development
				
				# **Lecture 3** 

				**Dave Everitt**: lectures & labs    
				deveritt@dmu.ac.uk

				**Fania Raczinski**: labs  
				fania.raczinski@dmu.ac.uk
			</section>

			<section data-markdown>
				# Last year's Feedback

				- 2-hours labs give time to experiment
				- lectures need to be shorter, or on a different time/day
				- Re-think assignments (Phase tests?)
				- More basic step-by-step guidance
				- More advanced JavaScript topics
			</section>

<!-- JAVASCRIPT TEACHING -->

			<section class="left-align">
				<section data-markdown>
					# JAVASCRIPT TEACHING: **1**

					## How is JavaScript used?

					- form **validation** of user input
					- handling **data** (e.g. JSON)
					- interactive **user interfaces and feedback**
					- web and mobile **frameworks**
					- web-based **apps** (mobile and desktop)
					- **Progressive Webapps** (on/offline/home screen…)
					- **applications** built on web technologies
				</section>
				<section data-markdown>
					# JAVASCRIPT TEACHING: **2**

					## There's a **lot** to learn
					
					This is **not a dedicated JavaScript** module so instead we:
					
					- get you started with the **fundamentals**
					- suggest some **good practice** with examples
					- supply exercise code you can **experiment** with
					- provide curated links to **online learning** materials  
					- provide an **overview** of the current state of JS
					- **we won't cover**: Node, Web Sockets, *server stuff*…
				</section>
				<section data-markdown>
					# JAVASCRIPT TEACHING: **3**

					## **VARIOUS** SKILLS/INTERESTS, **THE PLAN**

					1. we supply **working examples** for experimentation
					3. you follow online resources for **further learning**
					3. you make **working examples** to use in your project
					4. you build up a set of **re-usable js code** on GitHub
					
					---

					We can't do detailed `code-fixing` in labs or by email!  
					The learning process **is debugging/researching** issues.
				</section>
				<section data-markdown>
					# JAVASCRIPT TEACHING: **4**

					- After the JavaScript basics, **develop your own interests**.
					- **Keep things simple**, make **one thing** work well first.
					- Work out **how to use JavaScript** in your project  :
						it can be practical/functional or a bit show-off-y
					- Really want to learn a **JavaScript framework?** Start now:  
						`let jsOmg = [Preact, Ember, Mithril, Vue];`  
						Beyond the module scope, but general guidance is offered.
						
					---

					Beware of **old/bad code** on the web!  
					Check **dates**, **avoid inline JavaScript** in HTML…
				</section>
			</section>

<!-- JAVASCRIPT EVOLUTION -->

			<section class="left-align">
				<section data-markdown>
					# JAVASCRIPT EVOLUTION: **1**

					was **created in 10 days** in May **1995** by [Brendan Eich](https://brendaneich.com/), then working at Netscape and now Mozilla. JavaScript was not always known as JavaScript: the original name was **Mocha**, a name chosen by [Marc Andreessen](http://www.biography.com/people/marc-andreessen-9542208), founder of [Netscape](https://www.engadget.com/2014/05/10/history-of-netscape/).

					In 1995 the name became **LiveScript** then (after a trademark license from [Sun](https://www.oracle.com/sun/)) to **JavaScript**—a **marketing move** as Java was then very popular and was used in browsers. As a consequence, beginners still **confuse** the two languages. But **JavaScript IS NOT Java**!

					[A Short History of JavaScript (W3C)](https://www.w3.org/community/webed/wiki/A_Short_History_of_JavaScript)
				</section>
				<section data-markdown class="crammed">
					# JAVASCRIPT EVOLVES: **2**

					- **1995:** JavaScript born as Mocha/LiveScript
					- **1997:** ECMAScript standard established ([see ECMA](http://www.ecma-international.org/ "Standardization of Information and Communication Technology and Consumer Electronics: an international private (membership-based) non-profit standards organization for information and communication systems"))
					- **1999:** ES3 - Microsoft discover www. IE5 everywhere.
					- **2000–2005:** [XMLHttpRequest](https://hpbn.co/xmlhttprequest/) (AJAX): Outlook Web Access (2000), Gmail (2004), Google Maps (2005)
					- **2009:** ES5 - the familiar JavaScript, with `forEach`, `Object.keys`, `Object.create` (for [Douglas](http://www.crockford.com/ "The man behind 'Javascript: The Good Parts'. Q: why do web notables have such s**t-looking websites? A: because 'look, I added a bit of CSS but design is really for p******s… errr… I mean people who don't write PROGRAMMING CODE!'") [Crockford](http://javascript.crockford.com/ "…and his JavaScript stuff")), and standard [JSON](http://www.w3schools.com/js/js_json_intro.asp "JSON: the nice introduction") ([JSON motherlode here](http://www.json.org/ "A big load of information about the rather unfortunately-numbered ECMA-404"))
					- **2015:** ES6/ECMAScript2015 - mostly syntactic sugar, because no firm agreement on anything more radical

					[Condensed from benmccormick.org](https://benmccormick.org/2015/09/14/es5-es6-es2016-es-next-whats-going-on-with-javascript-versioning/)
				</section>
				<section data-markdown>
					# JAVASCRIPT EVOLVES: **3**

					JavaScript is an *implementation* of ECMAScript

					[ActionScript](http://www.adobe.com/devnet/actionscript.html "Remember Flash? And Adobe AIR") is/was another (["whatever happened to ES4?"](http://www.mikechambers.com/blog/2008/08/14/actionscript-3-and-ecmascript-4/ "YAWN. The whining."))

					## The big, fat **ECMA standards** (PDF):

					- [The ECMA-262 6th Edition / June 2015](http://www.ecma-international.org/ecma-262/6.0/ECMA-262.pdf)
					- [The ECMA-262 7th Edition / June 2016](http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf)
					- [The ECMA JSON standard](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf)
				</section>
				<section data-markdown class="crammed">
					# JAVASCRIPT EVOLVES: **5**

					## JQuery (a library)

					Although we're not teaching it (various reasons), you will encounter [JQuery](https://jquery.com/)—a JavaScript library created from an [original concept by John Resig in 2005](http://ejohn.org/blog/selectors-in-javascript/) and [announced in 2006 at BarCampNYC](http://ejohn.org/blog/barcampnyc-wrap-up/).
					
					It simplified the syntax for accessing the DOM—one feature being the ability to select elements using CSS syntax:

					```javascript
					$( "#button-container button" ).on( "click", function( event ) {
					  hiddenBox.show();
					});
					```
					
					Some web frameworks include JQuery (or a *light* version) alongside their own libraries.  
				</section>
				<section data-markdown class="ref-links ext-links">
					# JAVASCRIPT EVOLVES: **6**

					## ES6: JavaScript in **transition**
					
					e.g. `promise`[&nbsp;](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise "ext: example shows multiple fast clicking"), `const`[&nbsp;](), `let`[&nbsp;](https://davidwalsh.name/for-and-against-let "ext: for and against let"), `class`[&nbsp;](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Classes "ext: MDN classes"), … 

					**ES5** established: concatenation &lt; sigh &gt;:
					```javascript
					var name = 'My name is ' + first + ' ' + last + '.'
					```
					**ES6** now: template Literals (interpolation). Note backticks:
					```javascript
					var name = `My name is ${first} ${last}.`
					```

					[Can I use ES6 without **Babel** in 2016 (Quora)](https://www.quora.com/Can-I-use-ES6-without-Babel-in-2016)  
					[**ES6 support** (TL;DR warning! BIG table!)](http://kangax.github.io/compat-table/es6/)
				</section>
				<section data-markdown>
					# JAVASCRIPT EVOLVES: **7**

					## IF YOU WANT TO SEE THE **NEXT STEP**

					…read the [The ECMA-262 7th Edition / June 2016](http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf)  
					—it's the basis of the ES2016 version of JavaScript.
				</section>
			</section>

<!-- JAVASCRIPT: HOW IT WORKS -->

			<section class="left-align">
				<section data-markdown class="crammed">
					# JAVASCRIPT: **0**

					## How does JavaScript work?

					- translated into **machine instructions** by the **syntax parser**
					- creates a **global execution context** in the browser window…
					- …with `window` as the global object and `this` as a special variable
					- runs in an **event loop** to check if **user events** need **action**

					**global** = not in a function, available **everywhere in a window**
					
					---

					(Even with a blank JS file)
				</section>
				<section data-markdown>
					# JAVASCRIPT: **1**

					## How does JavaScript work?

					- you use it to **access the Document Object Model** (DOM)
					- you **make changes** and **get information** from the DOM

					---

					Demo: `document.getElementsByTagName('a');`
					See [Introduction to the DOM](https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction "Mozilla Web Docs")
				</section>
				<section data-markdown class="float-l-img">
					# JAVASCRIPT: **2**

					![](images/dom-model.svg)

					The first few branches on a **Document Object Model** (DOM) tree

					There are **parent**, **child** and **sibling** nodes

					From: [Document Object Model Structure](http://www.corelangs.com/js/dom/domtree.html) (corelangs.com)
				</section>
				<section data-markdown class="smallhead">
					# JAVASCRIPT: **2a**

					![Document Object Model diagram with hand-drawn annotations](images/dom.png "From a JQuery course http://cs.wellesley.edu/~cs110/reading/DOM-JQ.html")
				</section>
				<section data-markdown class="crammed">
					# JAVASCRIPT: **3**

					## How does JavaScript work?

					1. builds an **execution stack** to handle your code
					2. executes your code **synchronously** (one thing at a time)
					3. the browser adds user events (e.g. click) to an **event queue**
					4. if the **execution stack** is empty…
					5. …JavaScript **checks** the event queue for **actionable events**
					
					---

					The browser does things *asynchronously* (**rendering the page**, making **HTTP calls**, storing **user events**…) while JavaScript handles things *synchronously*
				</section>
				<section data-markdown>
					# JAVASCRIPT: **4**

					## THE **EVENT LOOP**

					For interaction in the browser, JavaScript runs in an **event loop**, so you can think in terms of **event handlers** that **listen** for events:
					
					``` javascript
					myElement.addEventListener("id-name", do_stuff);
					// WARNING: this ^ is an example, not executable code!
					```

					**CSS** can be triggered by focus/hover/checked etc., **JavaScript** can listen for **hundreds** of events:

					This should get you thinking: [Web Event reference (MDN)](https://developer.mozilla.org/en-US/docs/Web/Events)
				</section>
			</section>

			<section>
				<!-- USE NEW WEBSOCKET EXAMPLE (AND POINT OUT NO SERVER) -->
				<section style="text-align: center;">
					<h1>JAVASCRIPT EXAMPLES: <strong>1</strong></h1>
					<button id="socket-to-me">…oh (quietly) BTW do I support web sockets?</button>

					<script type="text/javascript">
					socketToMe = document.getElementById("socket-to-me");
					socketToMe.addEventListener("click", WebSocketTest);

					function WebSocketTest() {
            if ("WebSocket" in window) {
							alert("WebSockets! They're Supported by your Browser!");
							
							// open a web socket
							var ws = new WebSocket("ws://localhost:8080/echo");
			
							ws.onopen = function() {
								// Web Socket is connected, send data using send()
								ws.send("Message to send");
								alert("Message is sent...");
							};
			
							ws.onmessage = function (evt) { 
								var received_msg = evt.data;
								alert("Message is received...");
							};
			
							ws.onclose = function() { 
								// websocket is closed.
								alert("Connection is closed..."); 
							};
            } else {
							// The browser doesn't support WebSocket
							alert("WebSocket NOT supported by your Browser!");
            }
          }
					</script>
				</section>
				<section class="websockets smallhead">
					<h1>JAVASCRIPT EXAMPLES: <strong>1</strong></h1>
					<main id="page-wrapper">
						<div id="status">Web Socket connecting...</div>
						<ul id="messages"></ul>
						<form id="message-form" action="#" method="post">
							<textarea id="message" placeholder="Send your message by WebSockets..." required></textarea>
							<button type="submit">Send Message</button>
							<button type="button" id="close">Close Connection</button>
						</form>
					</main>
					<script src="js/app.js"></script>
				</section>
				<section data-markdown>
					# JAVASCRIPT EXAMPLES: **2**
					
					A few examples of JavaScript for games and 3D

					- **games** with (mostly) HTML5 canvas - see [Js13kGames](http://js13kgames.com/ "A competition where the file size limit is 13 kilobytes")
					- **3D animation** with HTML5 canvas and [WebGL](http://caniuse.com/#feat=webgl "CanIUse WebGL"):  
					[Formula 1 car](http://helloracer.com/webgl/ "Driveable car model") | [interactive Aquarium](http://webglsamples.org/aquarium/aquarium.html "interactive fish and all that")
				</section>
			</section>

			<section class="left-align">
				<section data-markdown>
					# JAVASCRIPT SYNTAX: **1**

					## C-family style syntax
					
					familiar if you've used C-family languages:
					
					``` javascript
					let myArray = ["C", "C++", "Java", "C#", "PHP", "Perl"];
					```
					[Array methods (W3Schools)](http://www.w3schools.com/js/js_array_methods.asp)
				</section>
				<section data-markdown>
					# JAVASCRIPT SYNTAX: **2**

					## DYNAMIC TYPING
					
					- 6 **primitive types** (not objects):  
						`undefined`, `null`, `boolean`, `number` (always a float), `string`, [`symbol` (ES6)](https://docs.microsoft.com/en-us/scripting/javascript/reference/symbol-object-javascript "For creating a unique identifier for object properties")
					- JavaScript **works out the type** for a variable value
					- you can change the value from **one type to another**
				</section>
				<section data-markdown class="crammed smalltext">
					# JAVASCRIPT: **3**
					
					variable scope: **var** and **let**

					```javascript
					function demoLet() {
						//tuce is *not* visible out here
						for( let tuce = 0; tuce < 5; tuce+=1 ) {
						  //tuce is only visible in here (in the for())
						}
						//tuce is *not* visible out here
					}
					function demoFor() {
						//nish *is* visible out here
						for( var nish = 0; nish < 5; nish++ ) {
							//nish is visible to the whole function
						}
						//nish *is* visible out here
					}
					```
					[…difference between using “let” and “var” to declare a variable?](http://stackoverflow.com/a/11444416/123033)
				</section>
				<section data-markdown class="crammed smalltext">
					# JAVASCRIPT: **4**

					Everything in JavaScript is an **object** (a name:value pair)

					A [JavaScript object](http://www.w3schools.com/js/js_objects.asp) contains a series of colon-separated **name:value** pairs (**no trailing comma** after the last!) enclosed in curly braces `{}`:

					```javascript
					var car = {
						manufacturer: "Tesla",
						model: "Model S",
						range: {
							normal: "360",
							ludicrous: "200"
						}
						colour: "red",
						start: function() {startMyCarStuffHere}
					};
					```

					You can have an **array of objects** (also a common data format in JSON…).
				</section>
				<section data-markdown class="crammed">
					# JAVASCRIPT: **5a**

					## JSON: **1**

					"JavaScript’s object-literal syntax is so simple, flexible, and concise, it was adapted to become the *dominant standard for client/server communication* in the form of **JSON**, which is more compact and flexible than the XML that it replaced."

					[Programming JavaScript Applications (Eric Elliott)](http://chimera.labs.oreilly.com/books/1234000000262/ch01.html)
				</section>
				<section data-markdown class="crammed">
					# JAVASCRIPT: **5b**

					## JSON: **2**

					[JSON](http://www.json.org/) (JavaScript Object Notation) is a compact **portable data format**, readable in many languages, added to databases, translated into/from (say) XML…

					It is used in many **APIs** where you **get data from a remote server** (say weather), and that data is recieved as **JSON**.

					[JSON Placeholder has some good examples](https://jsonplaceholder.typicode.com/posts/1/comments) and can be used for development or learning. An **array** of **objects** is a common format.
				</section>
				<section data-markdown class="crammed">
					# JAVASCRIPT: **5c**

					## JSON: **3**

					A **value** can be a: **string, number, object, array, boolean, null**

					```javascript
					"menu": {
						"id": "file",
						"value": "File",
						"popup": {
							"menuitem": [
								{"value": "New", "onclick": "CreateNewDoc()"},
								{"value": "Open", "onclick": "OpenDoc()"},
								{"value": "Close", "onclick": "CloseDoc()"}
							]
						}
					}
					```
				</section>
				<section data-markdown>
					# JAVASCRIPT: **6**

					## THIS IS TAKING **TOO LONG!**

					…and could become **somewhat complex**.

					However, there will be **example code** in the labs.
					
					SO: (because this isn't a dedicated **JavaScript course**  
					—it's a **front-end module**) for now, we leave you with…
				</section>

				<section data-markdown>
					# JAVASCRIPT: **∞**

					…some useful (ES5) stuff from another module leader:

					in particular:  
					[The JavaScript Object Model](http://teaching.ggstuart.com/lectures/js_oop.html#/overview)
					
					or (if you're interested) a whole (bonus) module:  
					[IMAT1213—Javascript for games](http://teaching.ggstuart.com/)  
				</section>
			</section>

			<section data-markdown>
				# WEB COMEDY
				
				If code was written like the  
				[code that appears in stock photos](http://codepen.io/chriscoyier/post/code-in-stock-photos)  
				—Chris Coyier
		</div>
	</div>

	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.js"></script>

	<script>
		// More info https://github.com/hakimel/reveal.js#configuration
		Reveal.initialize({
			history: true,
			controls: true,
			progress: true,
			center: true,
			touch: true,
			keyboard: true,
			maxScale: 0.82,
			previewLinks: false,
			transition: 'slide', // none/fade/slide/convex/concave/zoom

			// More info https://github.com/hakimel/reveal.js#dependencies
			dependencies: [
				{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
				{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
				{ src: 'plugin/zoom-js/zoom.js', async: true },
				{ src: 'plugin/notes/notes.js', async: true }
				// { src: 'plugin/menu/menu.js'}
			]
			// see https://github.com/denehyg/reveal.js-menu
			// menu: {
			// 	themes: false,
			// 	transitions: false
			// }
		});
	</script>
</body>
</html>
